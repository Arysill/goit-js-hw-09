{"mappings":"oeAAAA,EAAA,SAIQC,SAASC,cAAc,SAG/B,SAASC,EAAcC,EAAKC,GAC1B,MAAMC,EAAgBC,KAAKC,SAAW,GAQtC,OAPgB,IAAIC,SAAQ,CAACC,EAASC,KAChCL,EACFI,EAAQ,C,IAAEN,E,MAAKC,IAEfM,EAAO,C,IAAEP,E,MAAKC,GAAQ,G,CA4B5BO,KAAKC,iBAAiB,UAvBA,SAAUC,GAC9BA,EAAIC,iBACJ,IAAIC,EAAQC,OAAOC,UAAUC,WAAWC,OACpCC,EAAOJ,OAAOC,UAAUC,WAAWC,OACnCE,EAASL,OAAOC,UAAUC,WAAWC,OAErCG,EAAS,KACb,IAAK,IAAIC,EAAM,EAAGA,GAAOF,EAAQE,GAAO,EAClCA,EAAM,IACRR,GAASK,GAEXE,EAASE,YAAW,KAClBC,QAAQC,IAAIH,GACZrB,EAAcqB,EAAKR,GAChBY,MAAK,EAACxB,IAAEA,EAAGC,MAAEA,MACZwB,OAAOC,QAAQ,uBAAqB1B,QAAYC,MAAU,IAE3D0B,OAAM,EAAC3B,IAAEA,EAAGC,MAAEA,MACbwB,OAAOG,QAAQ,sBAAoB5B,QAAUC,MAAU,GACvD,GACHW,E","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix'\n\n\nconst refs = {\n  form: document.querySelector('.form'),\n};\n\nfunction createPromise(pos, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  const promise = new Promise((resolve, reject) => {\n    if (shouldResolve) {\n      resolve({ pos, delay });\n    } else {\n      reject({ pos, delay });\n    }\n  })\n  return promise;\n}\nconst handlerSubmit = function (evt) {\n  evt.preventDefault()\n  let delay = Number(selectors.delayInput.value);\n  let step = Number(selectors.delayInput.value);\n  let amount = Number(selectors.delayInput.value);\n  \n  let timeId = null;\n  for (let pos = 1; pos <= amount; pos += 1) {\n    if (pos > 1) {\n      delay += step;\n    };\n    timeId = setTimeout(() => {\n      console.log(pos);\n      createPromise(pos, delay)\n        .then(({ pos, delay }) => {\n          Notify.success(`✅ Fulfilled promise ${pos} in ${delay}ms`);\n        })\n        .catch(({ pos, delay }) => {\n          Notify.failure(`❌ Rejected promise ${pos} in ${delay}ms`);\n        });\n    }, delay);\n  }\n};\nform.addEventListener('submit', handlerSubmit);\n \n\n"],"names":["parcelRequire","document","querySelector","$47d4ff9957288465$var$createPromise","pos","delay","shouldResolve","Math","random","Promise","resolve","reject","form","addEventListener","evt","preventDefault","delay1","Number","selectors","delayInput","value","step","amount","timeId","pos1","setTimeout","console","log","then","Notify","success","catch","failure"],"version":3,"file":"03-promises.18bc727b.js.map"}